//- this is the tab  content inside the tab "tour operator" in the home page
//- dependencies : index.jade
//- c-linetitle


//- TODO: ¿limitar el numero de lugares?
//- run the ultras first
each place in places
	if place.subscription_level
		if place.belongsToCategory(tourOpId) && place.premium && place.plus && place.subscription_level.fields.name == "ultra"
			+c-listing--premium(
			place.getGalleryImages(language),
			'#',
			place.getLanguageUrl(language),
			place.name,
			place.cost_low,
			place.food_types,
			place.business_subtype
			 )

//- now run the rest of the premium pluses
each place in places
	if place.subscription_level
		if place.belongsToCategory(tourOpId) && place.premium && place.plus && place.subscription_level.fields.name != "ultra"
			+c-listing--premium(
			place.getGalleryImages(language),
			'#',
			place.getLanguageUrl(language),
			place.name,
			place.cost_low,
			place.food_types,
			place.business_subtype
			)

	else if place.belongsToCategory(tourOpId) && place.premium && place.plus
		+c-listing--premium(
		place.getGalleryImages(language),
		'#',
		place.getLanguageUrl(language),
		place.name,
		place.cost_low,
		place.food_types,
		place.business_subtype
		)


//- each place in places
//- 	if place.belongsToCategory(foodId) && place.premium && !place.plus
//- 		+c-listing--premium--food-and-drink  (place.getGalleryImages(language),'#',place.getLanguageUrl(language),place.name,place.business, place._low)
		

//- //- load the advert mixin
//- +c-advert('/images/sunrise.svg','an image alt tag','#')

//- // advert component
//- section.c-block--advert
//- 	| advertisement
//- 	a.c-advert(href="#")
//- 		img.c-advert__creative(src="/images/advertbox.png")

//- start the flexorama row to hold the .c-listing--secondary block
//- TODO: ¿limitar el número de lugares?
//- .flexorama--row
//- 	//- load the c-listing--secondary mixin
//- 	each place in places
//- 		if place.belongsToCategory(foodId) && !place.premium
//- 			+c-listing--secondary (place.getGalleryImages(language),'#',place.getLanguageUrl(language),place.name)

//-todo: 
//- load the button mixin
if (language == "en")
	+c-button--section('tour-operators-kiteboarding-schools-and-rentals/')
		| See full listing
else
	+c-button--section('/es/tour-operadores-escuelas-de-kiteboarding-y-rentas/')
		| Ve el listado completo
//- eof todo
